---
permalink: primer/using-information-lifecycle-management.html 
sidebar: sidebar 
keywords: what is information lifecycle management, how to use ilm 
summary: '您可以使用資訊生命週期管理 \(ILM\ ）來控制 StorageGRID 系統中所有物件的放置、持續時間和擷取行為。ILM規則可決定StorageGRID 物件的儲存方式。您可以設定一或多個ILM規則、然後將其新增至ILM原則。' 
---
= 資訊生命週期管理
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用資訊生命週期管理（ ILM ）來控制 StorageGRID 系統中所有物件的放置、持續時間和擷取行為。ILM規則可決定StorageGRID 物件的儲存方式。您可以設定一或多個ILM規則、然後將其新增至ILM原則。

網格一次只有一個作用中原則。原則可以包含多個規則。

ILM規則定義：

* 應該儲存哪些物件。規則可以套用至所有物件、也可以指定篩選條件、以識別規則適用的物件。例如、規則只能套用至與特定租戶帳戶、特定S3儲存區或Swift容器或特定中繼資料值相關聯的物件。
* 儲存類型與位置。物件可以儲存在儲存節點或雲端儲存池中。
* 所製作的物件複本類型。複本可以複寫或銷毀編碼。
* 複寫複本的複本數量。
* 對於銷毀編碼複本、使用的銷毀編碼方案。
* 隨著時間變更至物件的儲存位置和複本類型。
* 物件資料如何在物件擷取到網格時受到保護（同步放置或雙重提交）。


請注意、物件中繼資料並非由ILM規則管理。相反地、物件中繼資料會儲存在Cassandra資料庫的中繼資料儲存區中。每個站台會自動維護三個物件中繼資料複本、以保護資料免於遺失。



== ILM規則範例

以 ILM 規則為例、可以指定下列項目：

* 僅套用至屬於 Tenant A. 的物件
* 為這些物件製作兩個複寫複本、並將每個複本儲存在不同的站台上。
* 保留這兩個複本「永遠」、表示 StorageGRID 不會自動刪除它們。相反地StorageGRID 、在用戶端刪除要求刪除這些物件之前、或是在庫位生命週期到期之前、將會保留這些物件。
* 使用平衡選項來擷取行為：只要租戶 A 將物件儲存至 StorageGRID 、就會套用雙站台放置指示、除非無法立即製作兩個必要的複本。
+
例如、如果租戶A儲存物件時無法連線站台2、StorageGRID 則會在站台1的儲存節點上製作兩份臨時複本。一旦網站2推出、StorageGRID 就會在該網站上製作所需的複本。





== ILM原則如何評估物件

StorageGRID 系統的主動式 ILM 原則可控制所有物件的放置、持續時間和擷取行為。

當用戶端將物件儲存StorageGRID 至物件以供參考時、會根據作用中原則中的順序ILM規則集來評估物件、如下所示：

. 如果原則中第一個規則的篩選器符合物件、則會根據該規則的擷取行為擷取物件、並根據該規則的放置指示加以儲存。
. 如果第一個規則的篩選條件與物件不符、則會根據原則中的每個後續規則來評估物件、直到進行符合為止。
. 如果沒有符合物件的規則、則會套用原則中預設規則的擷取行為和放置指示。預設規則是原則中的最後一個規則、無法使用任何篩選器。它必須套用至所有租戶、所有貯體及所有物件版本。




== ILM原則範例

舉例來說、 ILM 原則可能包含三個 ILM 規則、其中指定下列項目：

* * 規則 1 ：租戶 A* 的複寫複本
+
** 比對屬於 Tenant A. 的所有物件
** 將這些物件儲存為三個站台的三個複寫複本。
** 屬於其他租戶的物件不符合規則 1 、因此會根據規則 2 進行評估。


* * 規則 2 ： 1 MB* 以上物件的銷毀編碼
+
** 比對其他租戶的所有物件、但只有在物件大於 1 MB 時才會比對。這些較大的物件使用6+3銷毀編碼儲存在三個站台。
** 不符合 1 MB 或更小的物件、因此會根據規則 3 來評估這些物件。


* * 規則 3 ： 2 份複本 2 個資料中心 * （預設）
+
** 是原則中的最後一個和預設規則。不使用篩選器。
** 為規則 1 或規則 2 不相符的所有物件建立兩個複寫複本（不屬於租戶 A 且小於 1 MB 的物件）。




image::../media/ilm_policy_and_rules.png[ILM原則與規則]

.相關資訊
* link:../ilm/index.html["使用ILM管理物件"]

