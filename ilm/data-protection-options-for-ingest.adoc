---
permalink: ilm/data-protection-options-for-ingest.html 
sidebar: sidebar 
keywords: ingest options, balanced ingest, strict ingest, dual-commit ingest 
summary: 建立 ILM 規則時、您可以指定三個選項之一來保護擷取時的物件：雙重認可、嚴格或平衡。 
---
= 擷取選項
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
建立 ILM 規則時、您可以指定三個選項之一來保護擷取時的物件：雙重認可、嚴格或平衡。

根據您的選擇、StorageGRID 將會製作過渡複本、並將物件排入佇列、以便稍後進行ILM評估、或是使用同步放置、並立即製作複本以符合ILM需求。



== 擷取選項的流程圖

流程圖會顯示當物件與使用三個擷取選項中每個選項的ILM規則相符時、會發生什麼情況。

image::../media/ingest_object_lifecycle.png[顯示每個擷取選項的物件擷取發生方式的圖表]



== 雙重承諾

當您選取雙重提交選項時、 StorageGRID 會立即在兩個不同的儲存節點上製作臨時物件複本、並將「擷取成功」訊息傳回給用戶端。物件會排入ILM評估佇列、之後會製作符合規則放置指示的複本。如果在雙重提交之後無法立即處理 ILM 原則、則站台遺失保護可能需要一些時間才能達成。

在下列任一情況下、請使用「雙重提交」選項：

* 您使用的是多站台ILM規則、而用戶端擷取延遲是您的首要考量。使用雙重提交時、您必須確保您的網格能夠執行其他工作、在雙認可複本不符合 ILM 時、建立及移除這些複本。具體而言：
+
** 網格上的負載必須足夠低、以避免ILM待處理項目。
** 網格必須有過多的硬體資源（IOPS、CPU、記憶體、網路頻寬等）。


* 您使用的是多站台ILM規則、而站台之間的WAN連線通常具有高延遲或有限頻寬。在此案例中、使用「雙重提交」選項有助於防止用戶端逾時。在選擇「雙重提交」選項之前、您應該使用實際的工作負載來測試用戶端應用程式。




== Balanced （平衡）（預設）

當您選取平衡選項時StorageGRID 、也會在擷取時使用同步放置、並立即製作規則放置說明中指定的所有複本。與嚴格選項相反、如果 StorageGRID 無法立即製作所有複本、則會改為使用雙重提交。如果 ILM 原則在多個站台上使用放置位置、而且無法立即保護站台損失、就會觸發 * ILM 放置無法達成 * 警示。

使用「平衡」選項、將資料保護、網格效能和擷取成功完美結合。Balanced （平衡）是 Create ILM Rule （建立 ILM 規則）精靈中的預設選項。



== 嚴格

當您選取「嚴格」選項時StorageGRID 、會在擷取中使用同步放置、並立即製作規則放置說明中指定的所有物件複本。如果 StorageGRID 無法建立所有複本、則擷取會失敗、例如、所需的儲存位置暫時無法使用。用戶端必須重試此作業。

如果您有作業或法規要求、只要將物件立即儲存在ILM規則中所述的位置、請使用嚴格選項。例如、為了滿足法規要求、您可能需要使用嚴格選項和位置限制進階篩選器、以確保物件永遠不會儲存在特定資料中心。

請參閱。 link:example-5-ilm-rules-and-policy-for-strict-ingest-behavior.html["範例5：嚴格擷取行為的ILM規則與原則"]
