---
permalink: ilm/advantages-disadvantages-and-requirements-for-ec.html 
sidebar: sidebar 
keywords: erasure coding advantages, disadvantages, EC requirements 
summary: 在決定是否使用複寫或銷毀編碼來保護物件資料免於遺失之前、您應該先瞭解銷毀編碼的優點、缺點及要求。 
---
= 銷毀編碼的優缺點與要求
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在決定是否使用複寫或銷毀編碼來保護物件資料免於遺失之前、您應該先瞭解銷毀編碼的優點、缺點及要求。



== 銷毀編碼的優點

相較於複寫、銷毀編碼可提升可靠性、可用度及儲存效率。

* * 可靠性 * ：測量可在不遺失資料的情況下持續發生的同時故障數。
+
** 複寫：多個相同的物件複本會儲存在不同的節點和站台之間。
** 銷毀編碼：物件編碼為資料和同位元區塊，分散於許多節點和站台。這種分散式技術可同時提供站台和節點故障保護。


* * 可用度 * ：儲存節點故障或無法存取時取得物件的能力。相較於複寫、銷毀編碼可提供更高的可用度、且儲存成本相當。
* * 儲存效率 * ：為了達到類似的可用度和可靠性，以刪除碼編碼的物件所使用的磁碟空間比複寫的物件少。例如、複寫到兩個站台的 10 MB 物件會佔用 20 MB 的磁碟空間（兩個複本）、而在三個站台上使用 6+3 銷毀編碼方案進行銷毀編碼的物件只會佔用 15 MB 的磁碟空間。
+

NOTE: 用於銷毀編碼物件的磁碟空間會以物件大小加上儲存負荷來計算。儲存負荷百分比是指同位元檢查片段的數目除以資料片段的數目。





== 銷毀編碼的缺點

相較於複寫、銷毀編碼有下列缺點：

* 建議增加儲存節點和站台數量、視銷毀編碼方案而定。相反地、如果您複寫物件資料、則每個複本只需要一個儲存節點。請參閱link:what-erasure-coding-schemes-are.html#erasure-coding-schemes-for-storage-pools-containing-three-or-more-sites["包含三個以上站台之儲存資源池的銷毀編碼配置"]和link:what-erasure-coding-schemes-are.html#erasure-coding-schemes-for-one-site-storage-pools["單一站台儲存資源池的銷毀編碼配置"]。
* 增加儲存擴充的成本與複雜度。若要擴充使用複寫的部署、您可以在製作物件複本的每個位置新增儲存容量。若要擴充使用銷毀編碼的部署、您必須同時考量使用中的銷毀編碼方案、以及現有的完整儲存節點。例如、如果您等待現有節點 100% 滿、則必須至少新增儲存節點、 `k+m`但如果您在現有節點已滿 70% 時進行擴充、則可以在每個站台新增兩個節點、同時仍將可用儲存容量最大化。如需更多資訊、請參閱 link:../expand/adding-storage-capacity-for-erasure-coded-objects.html["新增銷毀編碼物件的儲存容量"]。
* 當您在分散各地的站台上使用銷毀編碼時、擷取延遲會增加。透過 WAN 連線擷取的物件片段、若為在遠端站台之間進行銷毀編碼和散佈的物件片段、比在本機複寫且可供使用的物件（用戶端連線的相同站台）所需的時間更長。
* 當您在地理分佈的站台上使用銷毀編碼時、會有較高的WAN網路流量使用量來進行擷取和修復、尤其是對於經常擷取的物件或透過WAN網路連線進行物件修復。
* 當您跨站台使用銷毀編碼時、隨著站台之間的網路延遲增加、最大物件處理量會大幅降低。這項降低是因為 TCP 網路處理量減少，這會影響 StorageGRID 系統儲存和擷取物件片段的速度。
* 更高的運算資源使用率。




== 何時使用銷毀編碼

請針對下列需求使用銷毀編碼：

* 大小大於1 MB的物件。
+

NOTE: 銷毀編碼最適合大於1 MB的物件。請勿對小於 200 KB 的物件使用抹除編碼、以避免管理非常小的銷毀編碼片段所造成的負擔。

* 長期或冷儲存、用於不常擷取的內容。
* 高資料可用度與可靠性。
* 防止完整站台和節點故障。
* 儲存效率：
* 單一站台部署、只需一個銷毀編碼複本、而非多個複製複本、即可有效保護資料。
* 站台間延遲低於100毫秒的多站台部署。

