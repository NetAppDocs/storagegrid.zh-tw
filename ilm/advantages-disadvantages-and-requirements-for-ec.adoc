---
permalink: ilm/advantages-disadvantages-and-requirements-for-ec.html 
sidebar: sidebar 
keywords: erasure coding advantages, disadvantages, EC requirements 
summary: 在決定是否使用複寫或銷毀編碼來保護物件資料免於遺失之前、您應該先瞭解銷毀編碼的優點、缺點及要求。 
---
= 銷毀編碼的優缺點與要求
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在決定是否使用複寫或銷毀編碼來保護物件資料免於遺失之前、您應該先瞭解銷毀編碼的優點、缺點及要求。



== 銷毀編碼的優點

相較於複寫、銷毀編碼可提升可靠性、可用度及儲存效率。

* *可靠性*：以在不遺失資料的情況下可以承受的同時故障次數來衡量。
+
** 複製：多個相同的物件副本儲存在不同的節點和跨站點上。
** 擦除編碼：將物件編碼為資料和奇偶校驗片段，並分佈在許多節點和站點上。這種分散提供了站點和節點故障保護。


* *可用性*：當儲存節點發生故障或無法存取時取得物件的能力。與複製相比，擦除編碼在相當的儲存成本下提供了更高的可用性。
* *儲存效率*：在可用性和可靠性相似的情況下，擦除編碼物件比複製物件佔用更少的磁碟空間。例如，複製到兩個網站的 10 MB 物件將消耗 20 MB 磁碟空間（兩個副本），而使用 6+3 擦除編碼方案在三個網站進行擦除編碼的物件僅消耗 15 MB 磁碟空間。
+

NOTE: 用於銷毀編碼物件的磁碟空間會以物件大小加上儲存負荷來計算。儲存負荷百分比是指同位元檢查片段的數目除以資料片段的數目。





== 銷毀編碼的缺點

相較於複寫、銷毀編碼有下列缺點：

* 建議增加儲存節點和站台數量、視銷毀編碼方案而定。相反地、如果您複寫物件資料、則每個複本只需要一個儲存節點。請參閱link:what-erasure-coding-schemes-are.html#erasure-coding-schemes-for-storage-pools-containing-three-or-more-sites["包含三個以上站台之儲存資源池的銷毀編碼配置"]和link:what-erasure-coding-schemes-are.html#erasure-coding-schemes-for-one-site-storage-pools["單一站台儲存資源池的銷毀編碼配置"]。
* 增加儲存擴充的成本與複雜度。若要擴充使用複寫的部署、您可以在製作物件複本的每個位置新增儲存容量。若要擴充使用銷毀編碼的部署、您必須同時考量使用中的銷毀編碼方案、以及現有的完整儲存節點。例如、如果您等待現有節點 100% 滿、則必須至少新增儲存節點、 `k+m`但如果您在現有節點已滿 70% 時進行擴充、則可以在每個站台新增兩個節點、同時仍將可用儲存容量最大化。如需更多資訊、請參閱 link:../expand/adding-storage-capacity-for-erasure-coded-objects.html["新增銷毀編碼物件的儲存容量"]。
* 當您在分散各地的站台上使用銷毀編碼時、擷取延遲會增加。透過 WAN 連線擷取的物件片段、若為在遠端站台之間進行銷毀編碼和散佈的物件片段、比在本機複寫且可供使用的物件（用戶端連線的相同站台）所需的時間更長。
* 當您在地理分佈的站台上使用銷毀編碼時、會有較高的WAN網路流量使用量來進行擷取和修復、尤其是對於經常擷取的物件或透過WAN網路連線進行物件修復。
* 當您跨站點使用擦除編碼時，隨著站點間網路延遲的增加，最大物件吞吐量會急劇下降。這種下降是由於 TCP 網路吞吐量下降造成的，這影響了StorageGRID系統儲存和檢索物件片段的速度。
* 更高的運算資源使用率。




== 何時使用銷毀編碼

使用擦除編碼來滿足以下要求：

* 大小大於1 MB的物件。
+

NOTE: 銷毀編碼最適合大於1 MB的物件。請勿對小於 200 KB 的物件使用抹除編碼、以避免管理非常小的銷毀編碼片段所造成的負擔。

* 長期或冷儲存、用於不常擷取的內容。
* 高資料可用度與可靠性。
* 防止完整站台和節點故障。
* 儲存效率：
* 單一站台部署、只需一個銷毀編碼複本、而非多個複製複本、即可有效保護資料。
* 站台間延遲低於100毫秒的多站台部署。

